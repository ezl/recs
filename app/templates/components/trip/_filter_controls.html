<!-- Filter controls component for trip page -->
<!-- Expects variables: contributors, grouped_recommendations -->

<div id="filter-section" class="mb-6 hidden">
  <!-- Contributor Filter -->
  <div class="mb-4">
    <h3 class="text-gray-700 font-medium mb-2">Filter by Contributor</h3>
    <div class="flex flex-wrap gap-2">
      {% for contributor in contributors %}
        <button class="inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-blue-100 text-blue-800 border border-blue-200 hover:bg-blue-200 transition active" data-filter-type="contributor" data-filter-value="{{ contributor.id }}">
          {{ contributor.name if contributor.name else contributor.email }}
        </button>
      {% endfor %}
    </div>
  </div>
  
  <!-- Recommendation Type Filter -->
  <div>
    <h3 class="text-gray-700 font-medium mb-2">Filter by Recommendation Type</h3>
    <div class="flex flex-wrap gap-2">
      {% set categories = [] %}
      {% for group in grouped_recommendations %}
        {% if group.activity.category and group.activity.category not in categories %}
          {% set _ = categories.append(group.activity.category) %}
        {% endif %}
      {% endfor %}
      {% for category in categories %}
        <button class="inline-flex items-center px-3 py-1.5 rounded-full text-sm font-medium bg-blue-100 text-blue-800 border border-blue-200 hover:bg-blue-200 transition active" data-filter-type="category" data-filter-value="{{ category }}">
          {{ category }}
        </button>
      {% endfor %}
    </div>
  </div>
</div> 